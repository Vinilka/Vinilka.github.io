(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function O(e,s,n){window.addEventListener("keydown",({key:i})=>{switch(i){case"a":case"ArrowLeft":e.left.pressed=!0,n("left");break;case"d":case"ArrowRight":e.right.pressed=!0,n("right");break;case"w":case"ArrowUp":s.jumpCount<2&&(s.jumpCount++,e.up.pressed=!0,s.velocity.y-=18);break}}),window.addEventListener("keyup",({key:i})=>{switch(i){case"a":case"ArrowLeft":e.left.pressed=!1;break;case"d":case"ArrowRight":e.right.pressed=!1;break;case"w":case"ArrowUp":e.up.pressed=!1;break}})}function a(e){const s=new Image;return s.src=e,s}const C="/assets/playerStandRight-DjvDmSGx.png",A="/assets/playerStandLeft-DEAAEG9d.png",k="/assets/playerMoveRight-D3Rde_7M.png",B="/assets/playerMoveLeft-BzurysD1.png",F="/assets/playerJumpRight-fcMDIpmw.png",J="/assets/playerJumpLeft-BRExVOJF.png";class z{constructor({canvas:s,context:n,gravity:i}){this.canvas=s,this.context=n,this.speed=10,this.gravity=i,this.position={x:100,y:100},this.velocity={x:0,y:1},this.width=134,this.height=150,this.jumpCount=0,this.image=a(C),this.frames=0,this.sprites={stand:{right:a(C),left:a(A),cropWidth:387.375},run:{right:a(k),left:a(B),cropWidth:395},jump:{right:a(F),left:a(J),cropWidth:395}},this.currentSprite=this.sprites.stand.right,this.currentCropWidth=this.sprites.stand.cropWidth}draw(){this.context.drawImage(this.currentSprite,this.currentCropWidth*this.frames,-5,this.currentCropWidth,454,this.position.x,this.position.y,this.width,this.height)}updatePlayerFrame(){this.frames++,this.frames>=16&&(this.currentSprite===this.sprites.stand.right||this.currentSprite===this.sprites.stand.left)?this.frames=0:this.frames>=20&&(this.currentSprite===this.sprites.run.right||this.currentSprite===this.sprites.run.left)?this.frames=0:this.frames>=30&&(this.currentSprite===this.sprites.jump.right||this.currentSprite===this.sprites.jump.left)&&(this.frames=0)}update(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.position.y+this.height+this.velocity.y<=this.canvas.height&&(this.velocity.y+=this.gravity)}}class g{constructor({x:s,y:n,image:i,context:r}){this.context=r,this.position={x:s,y:n},this.image=i,this.width=i.width,this.height=i.height}draw(){this.context.drawImage(this.image,this.position.x,this.position.y)}}class E{constructor({x:s,y:n,image:i,context:r}){this.context=r,this.position={x:s,y:n},this.image=i,this.width=i.width,this.height=i.height}draw(){this.context.drawImage(this.image,this.position.x,this.position.y)}}class H{constructor(s,n,i,r){this.context=r,this.image=a(s),this.position={x:n,y:i},this.width=280,this.height=180,this.padding=10,this.horizontalPadding=26,this.messageText="",this.messageIndex=0,this.messageVisible=!1,this.typingSpeed=50,this.scale=0,this.scaleIncrement=.03,this.textStartDelay=1e3}showMessage(s){this.messageText=s,this.messageIndex=0,this.messageVisible=!0,setTimeout(()=>this.typeMessage(),this.textStartDelay)}typeMessage(){this.messageIndex<this.messageText.length&&(this.messageIndex++,setTimeout(()=>this.typeMessage(),this.typingSpeed))}draw(){this.messageVisible&&(this.scale<1&&(this.scale+=this.scaleIncrement),this.context.save(),this.context.translate(this.position.x+this.width/2,this.position.y+this.height/2),this.context.scale(this.scale,this.scale),this.context.translate(-(this.position.x+this.width/2),-(this.position.y+this.height/2)),this.context.drawImage(this.image,this.position.x,this.position.y,this.width,this.height),this.context.restore(),this.context.fillStyle="#1d6c7a",this.context.font="18px PatrickHand",this.wrapText(this.messageText.slice(0,this.messageIndex),this.position.x+this.horizontalPadding,this.position.y+this.padding,this.width-this.horizontalPadding*2,20))}wrapText(s,n,i,r,o){const l=s.split(" ");let u="",c=[],b="",I=null,W=0;for(let p=0;p<l.length;p++)b=u+l[p]+" ",I=this.context.measureText(b),W=I.width,W>r&&p>0?(c.push(u),u=l[p]+" "):u=b;c.push(u);const j=c.length*o;let L=i+(this.height-j)/2+o;for(let p=0;p<c.length;p++)this.context.fillText(c[p],n,L),L+=o}isVisible(){return this.messageVisible}}class V{constructor(s){this.context=s,this.dialogues=[]}addDialogue(s,n,i,r){const o=new H(s,n,i,this.context);this.dialogues.push({bubble:o,text:r,shown:!1})}showDialogue(s){s<this.dialogues.length&&!this.dialogues[s].shown&&(this.dialogues[s].bubble.showMessage(this.dialogues[s].text),this.dialogues[s].shown=!0)}resetDialogues(){this.dialogues.forEach(s=>{s.shown=!1,s.bubble.messageVisible=!1,s.bubble.messageIndex=0,s.bubble.scale=0})}updatePositions(s){this.dialogues.forEach(n=>{n.bubble.position.x+=s.x,n.bubble.position.y+=s.y})}draw(){this.dialogues.forEach(s=>{s.shown&&s.bubble.draw()})}}const G="/assets/platform-ZmYJJPO7.png",q="/assets/platformSmallTall-sZHpuomb.png",N="/assets/background-CUvmzTqM.png",U="/assets/hills-DPd9AaJB.png",D="/assets/dialogueBoxRight-B75tebyr.png";function Y(e,s,n){const i=a(G),r=a(q),o=new z({canvas:s,context:e,gravity:n}),l=[new g({x:i.width*4+250,y:270,image:r,context:e}),new g({x:0,y:470,image:i,context:e}),new g({x:i.width,y:470,image:i,context:e}),new g({x:i.width*2,y:470,image:i,context:e}),new g({x:i.width*3,y:470,image:i,context:e}),new g({x:i.width*4,y:470,image:i,context:e}),new g({x:i.width*5+200,y:470,image:i,context:e})],u=[new E({x:0,y:0,image:a(N),context:e}),new E({x:0,y:0,image:a(U),context:e})],c=new V(e);return c.addDialogue(D,750,60,"Hello there! I'm Anastasia. Welcome to my game!"),c.addDialogue(D,1050,60,"I am passionate about programming and good looking designs"),{player:o,platforms:l,backgroundObjects:u,dialogueManager:c,platformImage:i}}const Z={isRunning:!0,isFinished:!1,reset(){this.isRunning=!0,this.isFinished=!1},finish(){this.isRunning=!1,this.isFinished=!0}};let S=0;function K(){const e=document.getElementById("loading-screen");e&&e.remove();const s=document.createElement("div");s.id="loading-screen",s.innerHTML=`
    <p class="loading-text">–ü–æ–¥–≥—Ä—É–∂–∞—é –º–∏—Ä –ê–Ω–∞—Å—Ç–∞—Å–∏–∏<span class="dots"></span></p>
  `,document.body.appendChild(s)}const P=document.createElement("style");P.innerHTML=`
  #loading-screen {
    position: fixed;
    inset: 0;
    background-color: #cceeff;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 0.6s ease;
    opacity: 1;
  }

  .loading-text {
    font-family: 'Patrick Hand', sans-serif;
    font-size: 26px;
    color: white;
    letter-spacing: 1px;
  }

  .dots::after {
    content: '';
    display: inline-block;
    animation: dots 1.2s infinite steps(3, end);
  }

  @keyframes dots {
    0%   { content: ''; }
    33%  { content: '.'; }
    66%  { content: '..'; }
    100% { content: '...'; }
  }
`;document.head.appendChild(P);const m=document.querySelector("canvas"),v=m.getContext("2d");m.height=window.innerHeight;m.width=window.innerWidth;const _=1.1;let f;const h={right:{pressed:!1},left:{pressed:!1},up:{pressed:!1}};let y=0,t,w=[],d,x=[],M;function R(){const e=Y(v,m,_);t=e.player,w=e.platforms,x=e.backgroundObjects,d=e.dialogueManager,M=e.platformImage,y=0,O(h,t,s=>{f=s})}function Q(){h.right.pressed&&t.position.x<400?t.velocity.x=t.speed:h.left.pressed&&t.position.x>100||h.left.pressed&&y===0&&t.position.x>0?t.velocity.x=-t.speed:(t.velocity.x=0,h.right.pressed?(y+=t.speed,w.forEach(e=>{e.position.x-=t.speed}),x.forEach(e=>{e.position.x-=t.speed*.66}),d.updatePositions({x:-t.speed*.66,y:0})):h.left.pressed&&y>0&&(y-=t.speed,w.forEach(e=>{e.position.x+=t.speed}),x.forEach(e=>{e.position.x+=t.speed*.66}),d.updatePositions({x:t.speed*.66,y:0})))}function X(){w.forEach(e=>{t.position.y+t.height<=e.position.y&&t.position.y+t.height+t.velocity.y>=e.position.y&&t.position.x+t.width>=e.position.x&&t.position.x<=e.position.x+e.width&&(t.velocity.y=0,t.jumpCount=0)})}function $(){t.position.x>200&&!d.dialogues[0].shown&&d.showDialogue(0),t.position.x>600&&!d.dialogues[1].shown&&d.showDialogue(1)}function tt(){h.up.pressed?(t.frames=1,f==="right"?(t.currentSprite=t.sprites.jump.right,t.currentCropWidth=t.sprites.jump.cropWidth):f==="left"&&(t.currentSprite=t.sprites.jump.left,t.currentCropWidth=t.sprites.jump.cropWidth)):h.right.pressed&&f==="right"&&t.currentSprite!==t.sprites.run.right?(t.frames=1,t.currentSprite=t.sprites.run.right,t.currentCropWidth=t.sprites.run.cropWidth):h.left.pressed&&f==="left"&&t.currentSprite!==t.sprites.run.left?(t.frames=1,t.currentSprite=t.sprites.run.left,t.currentCropWidth=t.sprites.run.cropWidth):!h.left.pressed&&f==="left"&&t.currentSprite!==t.sprites.stand.left?(t.frames=1,t.currentSprite=t.sprites.stand.left,t.currentCropWidth=t.sprites.stand.cropWidth):!h.right.pressed&&f==="right"&&t.currentSprite!==t.sprites.stand.right&&(t.frames=1,t.currentSprite=t.sprites.stand.right,t.currentCropWidth=t.sprites.stand.cropWidth)}function et(){y>M.width*5+300&&console.log("üéâ You win"),t.position.y>m.height&&(Z.reset(),R())}function T(){if(requestAnimationFrame(T),S++,S===2){const e=document.getElementById("loading-screen");e&&(e.style.opacity="0",setTimeout(()=>e.remove(),600))}v.fillStyle="white",v.fillRect(0,0,m.width,m.height),x.forEach(e=>{e.draw()}),d.draw(),w.forEach(e=>{e.draw()}),t.updatePlayerFrame(),t.update(),Q(),X(),$(),tt(),et()}function st(){K(),S=0,setTimeout(()=>{R(),T()},0)}window.addEventListener("DOMContentLoaded",()=>{st()});
