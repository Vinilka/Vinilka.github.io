(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const h of i)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function o(i){const h={};return i.integrity&&(h.integrity=i.integrity),i.referrerPolicy&&(h.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?h.credentials="include":i.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(i){if(i.ep)return;i.ep=!0;const h=o(i);fetch(i.href,h)}})();function p(s){const e=new Image;return e.src=s,e}const P="/assets/playerStandRight-DjvDmSGx.png",M="/assets/playerStandLeft-DEAAEG9d.png",A="/assets/playerMoveRight-D3Rde_7M.png",O="/assets/playerMoveLeft-BzurysD1.png",B="/assets/playerJumpRight-fcMDIpmw.png",J="/assets/playerJumpLeft-BRExVOJF.png";class V{constructor({canvas:e,context:o,gravity:r}){this.canvas=e,this.context=o,this.speed=10,this.gravity=r,this.position={x:100,y:100},this.velocity={x:0,y:1},this.width=134,this.height=150,this.jumpCount=0,this.image=p(P),this.frames=0,this.sprites={stand:{right:p(P),left:p(M),cropWidth:387.375},run:{right:p(A),left:p(O),cropWidth:395},jump:{right:p(B),left:p(J),cropWidth:395}},this.currentSprite=this.sprites.stand.right,this.currentCropWidth=this.sprites.stand.cropWidth}draw(){this.context.drawImage(this.currentSprite,this.currentCropWidth*this.frames,-5,this.currentCropWidth,454,this.position.x,this.position.y,this.width,this.height)}updatePlayerFrame(){this.frames++,this.frames>=16&&(this.currentSprite===this.sprites.stand.right||this.currentSprite===this.sprites.stand.left)?this.frames=0:this.frames>=20&&(this.currentSprite===this.sprites.run.right||this.currentSprite===this.sprites.run.left)?this.frames=0:this.frames>=30&&(this.currentSprite===this.sprites.jump.right||this.currentSprite===this.sprites.jump.left)&&(this.frames=0)}update(){this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.position.y+this.height+this.velocity.y<=this.canvas.height&&(this.velocity.y+=this.gravity)}}class z{constructor(e,o,r,i){this.context=i,this.image=p(e),this.position={x:o,y:r},this.width=280,this.height=180,this.padding=10,this.horizontalPadding=26,this.messageText="",this.messageIndex=0,this.messageVisible=!1,this.typingSpeed=50,this.scale=0,this.scaleIncrement=.03,this.textStartDelay=1e3}showMessage(e){this.messageText=e,this.messageIndex=0,this.messageVisible=!0,setTimeout(()=>this.typeMessage(),this.textStartDelay)}typeMessage(){this.messageIndex<this.messageText.length&&(this.messageIndex++,setTimeout(()=>this.typeMessage(),this.typingSpeed))}draw(){this.messageVisible&&(this.scale<1&&(this.scale+=this.scaleIncrement),this.context.save(),this.context.translate(this.position.x+this.width/2,this.position.y+this.height/2),this.context.scale(this.scale,this.scale),this.context.translate(-(this.position.x+this.width/2),-(this.position.y+this.height/2)),this.context.drawImage(this.image,this.position.x,this.position.y,this.width,this.height),this.context.restore(),this.context.fillStyle="#1d6c7a",this.context.font="18px PatrickHand",this.wrapText(this.messageText.slice(0,this.messageIndex),this.position.x+this.horizontalPadding,this.position.y+this.padding,this.width-this.horizontalPadding*2,20))}wrapText(e,o,r,i,h){const g=e.split(" ");let w="",y=[],v="",W=null,I=0;for(let d=0;d<g.length;d++)v=w+g[d]+" ",W=this.context.measureText(v),I=W.width,I>i&&d>0?(y.push(w),w=g[d]+" "):w=v;y.push(w);const T=y.length*h;let D=r+(this.height-T)/2+h;for(let d=0;d<y.length;d++)this.context.fillText(y[d],o,D),D+=h}isVisible(){return this.messageVisible}}class F{constructor(e){this.context=e,this.dialogues=[]}addDialogue(e,o,r,i){const h=new z(e,o,r,this.context);this.dialogues.push({bubble:h,text:i,shown:!1})}showDialogue(e){e<this.dialogues.length&&!this.dialogues[e].shown&&(this.dialogues[e].bubble.showMessage(this.dialogues[e].text),this.dialogues[e].shown=!0)}resetDialogues(){this.dialogues.forEach(e=>{e.shown=!1,e.bubble.messageVisible=!1,e.bubble.messageIndex=0,e.bubble.scale=0})}updatePositions(e){this.dialogues.forEach(o=>{o.bubble.position.x+=e.x,o.bubble.position.y+=e.y})}draw(){this.dialogues.forEach(e=>{e.shown&&e.bubble.draw()})}}class u{constructor({x:e,y:o,image:r,context:i}){this.context=i,this.position={x:e,y:o},this.image=r,this.width=r.width,this.height=r.height}draw(){this.context.drawImage(this.image,this.position.x,this.position.y)}}class E{constructor({x:e,y:o,image:r,context:i}){this.context=i,this.position={x:e,y:o},this.image=r,this.width=r.width,this.height=r.height}draw(){this.context.drawImage(this.image,this.position.x,this.position.y)}}function q(s,e,o){window.addEventListener("keydown",({key:r})=>{switch(r){case"a":case"ArrowLeft":s.left.pressed=!0,o("left");break;case"d":case"ArrowRight":s.right.pressed=!0,o("right");break;case"w":case"ArrowUp":e.jumpCount<2&&(e.jumpCount++,s.up.pressed=!0,e.velocity.y-=18);break}}),window.addEventListener("keyup",({key:r})=>{switch(r){case"a":case"ArrowLeft":s.left.pressed=!1;break;case"d":case"ArrowRight":s.right.pressed=!1;break;case"w":case"ArrowUp":s.up.pressed=!1;break}})}const L="/assets/platform-ZmYJJPO7.png",G="/assets/hills-DPd9AaJB.png",H="/assets/background-CUvmzTqM.png",k="/assets/platformSmallTall-sZHpuomb.png",C="/assets/dialogueBoxRight-B75tebyr.png",m=document.querySelector("canvas"),a=m.getContext("2d");m.height=window.innerHeight;m.width=window.innerWidth;const N=1.1;let n=p(L),U=p(k),t,b=[],l,S=[],f;const c={right:{pressed:!1},left:{pressed:!1},up:{pressed:!1}};let x=0;function R(){n=p(L),t=new V({canvas:m,context:a,gravity:N}),b=[new u({x:n.width*4+250,y:270,image:U,context:a}),new u({x:0,y:470,image:n,context:a}),new u({x:n.width,y:470,image:n,context:a}),new u({x:n.width*2,y:470,image:n,context:a}),new u({x:n.width*3,y:470,image:n,context:a}),new u({x:n.width*4,y:470,image:n,context:a}),new u({x:n.width*5+200,y:470,image:n,context:a})],S=[new E({x:0,y:0,image:p(H),context:a}),new E({x:0,y:0,image:p(G),context:a})],l?l.resetDialogues():(l=new F(a),l.addDialogue(C,750,60,"Hello there! I'm Anastasia. Welcome to my game!"),l.addDialogue(C,1050,60,"I am passionate about programming and good looking designs")),x=0}function j(){requestAnimationFrame(j),a.fillStyle="white",a.fillRect(0,0,m.width,m.height),S.forEach(s=>{s.draw()}),l.draw(),b.forEach(s=>{s.draw()}),t.updatePlayerFrame(),t.update(),c.right.pressed&&t.position.x<400?t.velocity.x=t.speed:c.left.pressed&&t.position.x>100||c.left.pressed&&x===0&&t.position.x>0?t.velocity.x=-t.speed:(t.velocity.x=0,c.right.pressed?(x+=t.speed,b.forEach(s=>{s.position.x-=t.speed}),S.forEach(s=>{s.position.x-=t.speed*.66}),l.updatePositions({x:-t.speed*.66,y:0})):c.left.pressed&&x>0&&(x-=t.speed,b.forEach(s=>{s.position.x+=t.speed}),S.forEach(s=>{s.position.x+=t.speed*.66}),l.updatePositions({x:t.speed*.66,y:0}))),b.forEach(s=>{t.position.y+t.height<=s.position.y&&t.position.y+t.height+t.velocity.y>=s.position.y&&t.position.x+t.width>=s.position.x&&t.position.x<=s.position.x+s.width&&(t.velocity.y=0,t.jumpCount=0)}),t.position.x>200&&!l.dialogues[0].shown&&l.showDialogue(0),t.position.x>600&&!l.dialogues[1].shown&&l.showDialogue(1),c.up.pressed?(t.frames=1,f==="right"?(t.currentSprite=t.sprites.jump.right,t.currentCropWidth=t.sprites.jump.cropWidth):f==="left"&&(t.currentSprite=t.sprites.jump.left,t.currentCropWidth=t.sprites.jump.cropWidth)):c.right.pressed&&f==="right"&&t.currentSprite!==t.sprites.run.right?(t.frames=1,t.currentSprite=t.sprites.run.right,t.currentCropWidth=t.sprites.run.cropWidth):c.left.pressed&&f==="left"&&t.currentSprite!==t.sprites.run.left?(t.frames=1,t.currentSprite=t.sprites.run.left,t.currentCropWidth=t.sprites.run.cropWidth):!c.left.pressed&&f==="left"&&t.currentSprite!==t.sprites.stand.left?(t.frames=1,t.currentSprite=t.sprites.stand.left,t.currentCropWidth=t.sprites.stand.cropWidth):!c.right.pressed&&f==="right"&&t.currentSprite!==t.sprites.stand.right&&(t.frames=1,t.currentSprite=t.sprites.stand.right,t.currentCropWidth=t.sprites.stand.cropWidth),x>n.width*5+300&&console.log("you win"),t.position.y>m.height&&R()}q(c,t,s=>{f=s});function Y(){R(),j()}Y();
